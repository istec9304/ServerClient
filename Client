""" ********************************************************************************
* Name     : Client
* Purpose  : í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ êµ¬í˜„
* Input    : ì•„ë˜ ì½”ë“œ íŒŒì›Œì‰˜ì—ì„œ ë¶™ì—¬ë„£ê³  ì—”í„°
* Output   : ì…ë ¥í•  ëª…ë ¹ì–´:   (ì»¤ì„œëŒ€ê¸° ê¹œë¹¡ì„)
* Period   : ë¹„ì£¼ê¸°
* Limit    :
    - 211.53.249.184:1992 ë°©í™”ë²½ì— ë“±ë¡ëœ ì„œë²„í”„ë¡œê·¸ë¨ ì‹¤í–‰ì¤„ì¼ ê²ƒ!
    - ì„œê¸°ëŒ€ ì‚¬ë¬´ì‹¤PC ì—ì„œ ì²« ì‹œí—˜ì„±ê³µ
    - í´ë¼ì´ì–¸íŠ¸ëŠ” ì•„ë¬´PC ì—ì„œë‚˜ í…ŒìŠ¤íŠ¸ í•´ë„ ë™ì‘ê°€ëŠ¥
* Modify   : "2025-04-06"
* Author   : ì„œê¸°ëŒ€
* Memo     : í”„ë¡œê·¸ë¨ ì¢…ë£ŒëŠ” exit ì…ë ¥ í›„ ì—”í„°
******************************************************************************** """
# í´ë¼ì´ì–¸íŠ¸.ps1
$server = "211.53.249.184"
$port = 1992
$client = [System.Net.Sockets.TcpClient]::new($server, $port)
$stream = $client.GetStream()

Write-Host "ğŸ“‹ ì „ì†¡ ê°€ëŠ¥í•œ ëª…ë ¹ì–´ ëª©ë¡: AAA, BBB, CCC"
Write-Host "âŒ 'exit' ì…ë ¥ ì‹œ ì¢…ë£Œë©ë‹ˆë‹¤.`n"

while ($true) {
    $message = Read-Host "ì…ë ¥í•  ëª…ë ¹ì–´"
    
    if ($message.Trim().ToLower() -eq "exit") {
        break
    }

    $bytes = [System.Text.Encoding]::UTF8.GetBytes($message)
    $stream.Write($bytes, 0, $bytes.Length)
    Write-Host "ğŸ“¤ ì„œë²„ë¡œ ë©”ì‹œì§€ ì „ì†¡: $message"

    # ì„œë²„ ì‘ë‹µ ìˆ˜ì‹ 
    $buffer = New-Object byte[] 1024
    $bytesRead = $stream.Read($buffer, 0, $buffer.Length)
    if ($bytesRead -gt 0) {
        $response = [System.Text.Encoding]::UTF8.GetString($buffer, 0, $bytesRead)
        Write-Host "ğŸ“© ì„œë²„ ì‘ë‹µ ìˆ˜ì‹ : $response`n"
    }
}

$stream.Close()
$client.Close()
Write-Host "ğŸ”Œ í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ì¢…ë£Œ"
